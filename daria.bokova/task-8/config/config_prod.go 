//go:build !dev

package config

import (
    _ "embed"
    "gopkg.in/yaml.v3"
    "log"
)

//go:embed prod.yaml
var configData []byte

type Config struct {
    Environment string `yaml:"environment"`
    LogLevel    string `yaml:"log_level"`
}

func Load() *Config {
    cfg := &Config{}
    err := yaml.Unmarshal(configData, cfg)
    if err != nil {
        log.Fatalf("failed to load prod config: %v", err)
    }
    return cfg
}